<!DOCTYPE html>
<html>

<head>

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Image Slider</title>
    <link rel="stylesheet" type="text/css" href="framework.css" />

</head>



<body>
    <style type="text/css">
        /* ========= POSITION BUTTONS ======== */
        		
        		#parentWrapper {
        			position: relative;	
        			max-width: 1169px; /* images are 1170px, make the through-window 1px smaller on each side to accommodate for any javascript rounding number when element#img is moved to x aixis */
        			
        			/* height: 375px; 
        				FOR RESPONSIVE PARENT WRAPPER WHICH WILL HOLDI MAGES, HEIGHT SHOULD BE 100% */
        			height: 100%;		
        
        			padding: 0px;
        			margin-left: auto;
        			margin-right: auto;
        			
        			white-space: nowrap;
        			overflow: hidden;
        		}
        		#sliderImages {
        		
        		}
        		
        		#nextButton {
        			position: absolute;			
        			top: 50%;
        			transform: translateY(-50%); /* Vertically center. Top:50% Alone Doesnt Work */
        			right: 0%;
        			z-index: 999;
        			
        			cursor:pointer;
        			padding: 5px;
        			background-color: red;	
        		}			
        		
        		#prevButton {
        			position: absolute;
        			top: 50%;
        			 transform: translateY(-50%); /* Vertically center. Top:50% Alone Doesnt Work */
        			left: 0%;
        			
        			z-index: 999;
        			
        			cursor:pointer;
        			padding: 5px;
        			background-color: blue;
        		}
    </style>

    <div class="container">
        <div class="col-12" style="border: #000 1px solid;">
            <div id="parentWrapper">
                <div id="prevButton" class="button">Prev</div>
                <div id="sliderImages">
                    <img src="img/slider1.png" class="img-responsive"><img src="img/slider2.png" class="img-responsive"><img src="img/slider3.png" class="img-responsive"><img src="img/slider4.png" class="img-responsive">
                </div>
                <div id="nextButton" class="button">next</div>
            </div>
        </div>
    </div>



    <!-- load scripts after dom has been rendered 
<script src="js/gsap/TweenLite.js"></script>
<script src="js/gsap/plugins/CSSPlugin.js"></script>
<script src="js/gsap/easing/EasePack.js"></script>
<script src="js/jquery/jquery-1.10.1.min.js"></script>
-->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/TweenMax.min.js"></script>


    <script>
        // javascript on pageLoad, works on 98% Browsers
        //document.addEventListener("DOMContentLoaded", function(event) { 
        	// do things
        //});
        
        $(document).ready(function() {
        	/*
        	 We have 4 images! on each click we move <div> by -1170 to left using the x:property
        	 Each time we click the next button, we want to move an additional -1170 pixels because our image is 1170px width
        	*/		
        	var slideWidth = $("#parentWrapper").outerWidth();			
            var    	$sliderImg = $("#sliderImages");	
            var    	$nextButton = $("#nextButton");
        	var 	$prevButton = $("#prevButton");
        	
        	var $numbOfImgs = 4; // how mamny images?
        	$numbOfImgs--; // Decrement by 1. Index start from 0
        	
        	
        	
        	
        	
            $nextButton.click(function() {	
        	
        		tl = new TimelineMax();
        	
        		var y = $sliderImg.css("transform").split(', ')[4];
        		var xVal = parseInt(y);	
        		console.log("xVal is :: " + xVal);
        		
        		if(isNaN(xVal) == true ) {
        			// this is TRUE, when page loads and user clicks PREV first time
        			// We want the click on nextButton to move images on > right side.
        			// First, we move the image all the way far to the Left. On each Next lick, we can move image to right 			
        			// At every 4th Click, we rewind to x: 3510px. 
        			tl.to($sliderImg, 2, {x: -slideWidth*3});  	// Moves elemetn to x: -3510px		
        		}
        		
        		if (xVal == -slideWidth*3 ) {
        			tl.to($sliderImg, 1, {x: -slideWidth*2}); // 1170*2 = 
        		}
        		if (xVal == -2*slideWidth ) {
        			tl.to($sliderImg, 1, {x: -slideWidth}); // Moves element to -1170px
        		}		
        		if (xVal == -slideWidth ) {
        			tl.to($sliderImg, 1, {x: 0}); 
        		}
        		if (xVal == 0 ) {
        			tl.to($sliderImg, 1, {x: -3*slideWidth}); 
        		}
        		
            });
        	
        	
        	$prevButton.click(function() {	
              
        		t2 = new TimelineMax();
        	  
        		var y = $sliderImg.css("transform").split(', ')[4];
        		var xVal = parseInt(y);	
        		console.log("xVal is 1 :: " + xVal);
        		
        		if(isNaN(xVal) == true ) {
        			// this is TRUE, when page loads and user clicks PREV first time
        			// @ this point, the 1st frame of the image-slip is visible.
        			t2.to($sliderImg, 1, {x: -slideWidth});  
        		}		
        		if (xVal == -slideWidth ) {
        			t2.to($sliderImg, 1, {x: -2*slideWidth}); 
        		}
        		if (xVal == -slideWidth*2 ) {
        			t2.to($sliderImg, 1, {x: -3*slideWidth}); 
        		}
        		if (xVal == -3*slideWidth ) {
        			t2.to($sliderImg, 1, {x: 0}); 
        		}		
        		if (xVal == 0 ) {
        			t2.to($sliderImg, 1, {x: -slideWidth}); 
        		}		      
        		
            });
        	
        
        	// ---------------- 	
        	// t3 = new TimelineMax({repeat:3, repeatDelay:2});
        	t3 = new TimelineMax({repeat:2, repeatDelay:4});
        	t3.from($sliderImg, 2, {opacity:0, delay:0.5});
        		
            // TweenLite.to(icon, 2, {rotation:360, left:400, ease:Back.easeOut, delay:1});
            t3.to($sliderImg, 1, {x: -slideWidth,  delay:5});
            t3.to($sliderImg, 1, {x: -slideWidth*2,  delay:5});
            t3.to($sliderImg, 1, {x: -slideWidth*3,  delay:5});
        	
        	
        	
        	var $wrapElmnt = $("#parentWrapper");
        	
        	$wrapElmnt.mouseenter(function(){
        		t3.pause();
        	    // t3.play();
        	});
        	
        	
        	$wrapElmnt.mouseleave(function(){		
        	    t3.play();
        	});
        	
        	
        });
    </script>

</body>

</html>